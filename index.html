<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Start Page</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        .bg {
            background: url('images/cat_leaves.png') no-repeat center center;
            background-size: cover;
            opacity: 1;
            position: relative;
        }
        .bg::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.3);
            z-index: 1;
        }

        .glass {
            border: 1px solid hsla(0, 0%, 100%, 0.2);
        }

        input:focus {
            outline: none;
            ring: 2px solid #6366f180;
        }
        .link-item:hover {
            transform: translateY(-1px);
            transition: transform 0.2s ease;
        }
        .search-container {
            position: relative;
        }
        .search-icon {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
        }
        .simple-icon {
            width: 16px;
            height: 16px;
            display: inline-block;
        }
    </style>
</head>
<body class="bg min-h-screen flex flex-col items-center justify-center p-4">
    <div class="w-full max-w-3xl mx-auto flex flex-col items-center relative z-10">
        <!-- Time and Date -->
        <div class="text-center mb-6">
            <h1 id="time" class="text-6xl font-bold text-white mb-2">--:--:--</h1>
            <p id="date" class="text-base text-gray-300">Loading...</p>
        </div>

        <!-- Weather -->
        <div class="flex items-center gap-3 mb-6">
            <span id="temp" class="text-xl font-semibold text-blue-300">--°C</span>
            <span id="condition" class="text-base text-gray-300">Loading...</span>
            <div id="weather-icon" class="h-7 w-7 text-blue-300"></div>
        </div>

        <!-- Search Bar -->
        <form id="search-form" class="w-full mb-6 search-container">
            <input
                type="text"
                id="search-input"
                placeholder="Search the web..."
                class="w-full h-12 pl-12 pr-20 text-base rounded-lg bg-gray-900 bg-opacity-60 border border-gray-700 text-white placeholder-gray-400"
            />
            <div class="search-icon">
                <i data-lucide="search" class="h-5 w-5 text-gray-400"></i>
            </div>
            <button type="submit" class="absolute right-2 top-2 h-8 px-3 text-sm text-gray-300 hover:text-white rounded">
                Search
            </button>
        </form>

        <!-- Quick Links -->
        <div class="w-full glass backdrop-blur rounded-lg p-4">
            <div id="links-container">
                <!-- Links will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        // Time and date updates
        function updateTime() {
            const now = new Date();
            const timeStr = now.toLocaleTimeString([], {
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit',
                hour12: true
            });
            const dateStr = now.toLocaleDateString([], {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            
            document.getElementById('time').textContent = timeStr;
            document.getElementById('date').textContent = dateStr;
        }

        // Weather simulation
        function updateWeather() {
            const conditions = ['Sunny', 'Partly Cloudy', 'Cloudy', 'Rainy'];
            const randomCondition = conditions[Math.floor(Math.random() * conditions.length)];
            const randomTemp = Math.floor(Math.random() * 15) + 15;
            
            document.getElementById('temp').textContent = randomTemp + '°C';
            document.getElementById('condition').textContent = randomCondition;
            
            const weatherIcon = document.getElementById('weather-icon');
            let iconName = 'cloud';
            let iconColor = 'text-blue-300';
            
            switch (randomCondition) {
                case 'Sunny':
                    iconName = 'sun';
                    iconColor = 'text-yellow-300';
                    break;
                case 'Partly Cloudy':
                    iconName = 'cloud-sun';
                    iconColor = 'text-blue-200';
                    break;
                case 'Cloudy':
                    iconName = 'cloud';
                    iconColor = 'text-blue-300';
                    break;
                case 'Rainy':
                    iconName = 'cloud-rain';
                    iconColor = 'text-indigo-300';
                    break;
            }
            
            weatherIcon.innerHTML = `<i data-lucide="${iconName}" class="h-7 w-7 ${iconColor}"></i>`;
            document.getElementById('temp').className = `text-2xl font-semibold ${iconColor}`;
            lucide.createIcons();
        }

        const rowLinks = [
            [
                { name: 'Reddit', url: 'https://reddit.com', icon: 'reddit', color: '#FF4500', type: 'simple' },
                { name: 'Youtube', url: 'https://www.youtube.com/', icon: 'youtube', color: '#FF0000', type: 'simple' },
                { name: 'Marketplace', url: 'https://www.facebook.com/marketplace/toronto?ref=bookmark', icon: 'facebook', color: '#0866FF', type: 'simple' },
                { name: 'Twitter', url: 'https://twitter.com', icon: 'twitter', color: '#1DA1F2', type: 'lucide' }
            ],
            [
                { name: 'Drive', url: 'https://drive.google.com', icon: 'googledrive', color: '#4285F4', type: 'simple' },
                { name: 'Courses', url: 'https://courses.torontomu.ca/d2l/home', icon: 'graduation-cap', color: '#F57C00', type: 'lucide' },
                { name: 'OneNote', url: 'https://www.onenote.com', icon: 'microsoftonenote', color: '#7719AA', type: 'simple' },
                { name: 'Gmail', url: 'https://gmail.com', icon: 'gmail', color: '#EA4335', type: 'simple' }
            ],
            [
                { name: 'Github', url: 'https://github.com', icon: 'github', color: '#FFFFFF', type: 'simple' },
                { name: 'AI Studio', url: 'https://aistudio.google.com', icon: 'brain', color: '#4285F4', type: 'lucide' },
                { name: 'LocalLLaMA', url: 'https://www.reddit.com/r/LocalLLaMA/', icon: 'cpu', color: '#FF4500', type: 'lucide' },
                { name: 'MonkeyType', url: 'https://monkeytype.com', icon: 'keyboard', color: '#E2B714', type: 'lucide' }
            ],
            
            [
                { name: 'Discord', url: 'https://discord.com/app', icon: 'discord', color: '#5865F2', type: 'simple' },
                { name: 'Hacker News', url: 'https://news.ycombinator.com/', icon: 'ycombinator', color: '#FF6600', type: 'simple' },
                { name: 'WallStreetBets', url: 'https://www.reddit.com/r/wallstreetbets/', icon: 'reddit', color: '#FF4500', type: 'simple' },
                { name: 'Music for Programming', url: 'https://musicforprogramming.net/latest/', icon: 'headphones', color: '#BA478F', type: 'lucide' }
            ]
            
        ];

        // Function to load Simple Icon SVG
        async function loadSimpleIcon(iconName) {
            try {
                const response = await fetch(`https://cdn.jsdelivr.net/npm/simple-icons@latest/icons/${iconName}.svg`);
                if (response.ok) {
                    return await response.text();
                }
            } catch (error) {
                console.log(`Could not load icon: ${iconName}`);
            }
            return null;
        }

        // Populate links with appropriate icon type
        async function populateLinks() {
            const container = document.getElementById('links-container');
            container.innerHTML = ''; // Clear existing content
            
            for (let rowIndex = 0; rowIndex < rowLinks.length; rowIndex++) {
                const row = rowLinks[rowIndex];
                const rowDiv = document.createElement('div');
                rowDiv.className = 'grid grid-cols-4 gap-x-6 mb-2 last:mb-0';
                
                for (let linkIndex = 0; linkIndex < row.length; linkIndex++) {
                    const link = row[linkIndex];
                    const linkElement = document.createElement('a');
                    linkElement.href = link.url;
                    linkElement.target = '_blank';
                    linkElement.rel = 'noopener noreferrer';
                    linkElement.className = 'flex items-center gap-2 group link-item p-2 rounded hover:bg-gray-700 hover:bg-opacity-50';
                    
                    let iconHtml = '';
                    
                    if (link.type === 'simple') {
                        // Load Simple Icon
                        const svgContent = await loadSimpleIcon(link.icon);
                        if (svgContent) {
                            const tempDiv = document.createElement('div');
                            tempDiv.innerHTML = svgContent;
                            const svg = tempDiv.querySelector('svg');
                            if (svg) {
                                svg.setAttribute('class', 'simple-icon');
                                svg.setAttribute('fill', link.color);
                                svg.setAttribute('style', `filter: brightness(0.9);`);
                                iconHtml = svg.outerHTML;
                            }
                        }
                    } else {
                        // Use Lucide icon
                        iconHtml = `<i data-lucide="${link.icon}" class="h-4 w-4" style="color: ${link.color}"></i>`;
                    }
                    
                    linkElement.innerHTML = `
                        ${iconHtml}
                        <span class="text-xs whitespace-nowrap overflow-hidden text-ellipsis text-gray-300 group-hover:text-white transition-colors duration-200">
                            ${link.name}
                        </span>
                    `;
                    
                    rowDiv.appendChild(linkElement);
                }
                
                container.appendChild(rowDiv);
            }
            
            // Initialize Lucide icons
            lucide.createIcons();
        }

        // Search functionality
        document.getElementById('search-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const query = document.getElementById('search-input').value.trim();
            if (query) {
                window.open(`https://www.google.com/search?q=${encodeURIComponent(query)}`, '_blank');
            }
        });

        // Initialize everything
        updateTime();
        setInterval(updateTime, 1000);
        
        setTimeout(updateWeather, 1500);
        
        populateLinks();
    </script>
</body>
</html>